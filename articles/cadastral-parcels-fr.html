<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Parcelles Cadastrales (FR) • Rsequoia2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parcelles Cadastrales (FR)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Rsequoia2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/analysis_units.html">Analysis units</a></li>
    <li><a class="dropdown-item" href="../articles/cadastral-parcels-fr.html">Parcelles Cadastrales (FR)</a></li>
    <li><a class="dropdown-item" href="../articles/cadastral-parcels-legal-entity-fr.html">Parcelles cadastrales - Personne morale (FR)</a></li>
    <li><a class="dropdown-item" href="../articles/cadastral-parcels-legal-entity.html">Cadastral parcels - legal entity (FR)</a></li>
    <li><a class="dropdown-item" href="../articles/cadastral-parcels.html">Cadastral parcels</a></li>
    <li><a class="dropdown-item" href="../articles/sequoia-fr.html">Sequoia (FR)</a></li>
    <li><a class="dropdown-item" href="../articles/sequoia.html">Sequoia</a></li>
    <li><a class="dropdown-item" href="../articles/vecteurs.html">Téléchargement de données</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Parcelles Cadastrales (FR)</h1>
            
      

      <div class="d-none name"><code>cadastral-parcels-fr.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sequoiapp.github.io/Rsequoia2/">Rsequoia2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Attempting to load the package cache ... No cache found.</span></span>
<span><span class="co">#&gt; Will try to reconfigure qgisprocess and build new cache ...</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://janmarvin.github.io/openxlsx2/" class="external-link">openxlsx2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE</span></span></code></pre></div>
<p>Cette vignette montre comment récupérer des parcelles cadastrales
avec <code>Rsequoia2</code>.</p>
<div class="section level2">
<h2 id="fonctionnement">Fonctionnement<a class="anchor" aria-label="anchor" href="#fonctionnement"></a>
</h2>
<p><code>Rsequoia2</code> permet de télécharger les parcelles
cadastrales à partir de leur IDU à l’aide de la fonction
<code><a href="../reference/get_parca.html">get_parca()</a></code>.</p>
<p><em>Remarque :</em> L’IDU est un code à 14 caractères qui identifie
de manière unique une parcelle cadastrale en France.</p>
<p>Il est composé :</p>
<ul>
<li>du code département (2 caractères)</li>
<li>du code commune (3 caractères)</li>
<li>du préfixe (3 caractères)</li>
<li>de la section (2 caractères)</li>
<li>du numéro de parcelle (4 caractères)</li>
</ul>
<p>Par exemple : <code>29158000AX0696</code></p>
<ul>
<li>
<code>"29"</code> -&gt; Code du département (2 chiffres)<br>
</li>
<li>
<code>"158"</code> -&gt; Code de la commune (3 chiffres)<br>
</li>
<li>
<code>"000"</code> -&gt; Préfixe / code abs (3 chiffres)<br>
</li>
<li>
<code>"AX"</code> -&gt; Section (2 caractères)<br>
</li>
<li>
<code>"0696"</code> -&gt; Numéro de parcelle (4 chiffres)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">idu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"29158000AX0696"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parca.html">get_parca</a></span><span class="op">(</span><span class="va">idu</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_basemap.html" class="external-link">tm_tiles</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">cp</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>bg <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p><img src="cadastral-parcels-fr_files/figure-html/single_idu-1.png" class="r-plt" alt="" width="100%"></p>
<p><code><a href="../reference/get_parca.html">get_parca()</a></code> est vectorisé donc plusieurs idu peuvent
être fournis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">idus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"29158000AX0"</span>, <span class="fl">696</span><span class="op">:</span><span class="fl">704</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parca.html">get_parca</a></span><span class="op">(</span><span class="va">idus</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_basemap.html" class="external-link">tm_tiles</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">cp</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"firebrick"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="cadastral-parcels-fr_files/figure-html/multiple_idu-1.png" class="r-plt" alt="" width="100%"></p>
</div>
<div class="section level2">
<h2 id="bdp-et-lieux-dits">BDP et lieux-dits<a class="anchor" aria-label="anchor" href="#bdp-et-lieux-dits"></a>
</h2>
<p><code><a href="../reference/get_parca.html">get_parca()</a></code> propose deux arguments :
<code>bdp_geom</code> et <code>lieu_dit</code>.</p>
<div class="section level3">
<h3 id="bdp_geom---bd-parcellaire">
<code>bdp_geom</code> - BD Parcellaire<a class="anchor" aria-label="anchor" href="#bdp_geom---bd-parcellaire"></a>
</h3>
<p>La BDP (Base de Données Parcellaire) est un ancien produit de l’IGN
qui n’est aujourd’hui plus maintenu.</p>
<p>Elle a été initialement construite à partir des parcelles cadastrales
Etalab, mais de nombreuses géométries ont été corrigées manuellement par
l’IGN afin de mieux correspondre aux limites observées sur le
terrain.</p>
<p>L’utilisation de la BDP peut ainsi améliorer la précision
géométrique, sans toutefois garantir une correspondance parfaite avec
les limites cadastrales légales.</p>
<p>Pour utiliser les géométries issues de la BDP avec
<code><a href="../reference/get_parca.html">get_parca()</a></code>, définissez l’argument
<code>bdp_geom = TRUE</code>. Lorsque la géométrie BDP existe pour un
IDU donné, elle remplace automatiquement la géométrie Etalab
correspondante.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">idus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"545400000C0"</span>, <span class="fl">101</span><span class="op">:</span><span class="fl">109</span><span class="op">)</span></span>
<span></span>
<span><span class="va">etalab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parca.html">get_parca</a></span><span class="op">(</span><span class="va">idus</span>, bdp_geom <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">bdp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parca.html">get_parca</a></span><span class="op">(</span><span class="va">idus</span>, bdp_geom <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Downloading BDP from IGN...</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> 9 of 9 ETALAB geom successfully replaced with BDP geom.</span></span>
<span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_basemap.html" class="external-link">tm_tiles</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">etalab</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"firebrick"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">bdp</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="cadastral-parcels-fr_files/figure-html/etalab_vs_bdp-1.png" class="r-plt" alt="" width="100%"></p>
</div>
<div class="section level3">
<h3 id="lieu-dit---lieu-dit">
<code>lieu-dit</code> - Lieu-dit<a class="anchor" aria-label="anchor" href="#lieu-dit---lieu-dit"></a>
</h3>
<p>Un lieu-dit est un nom de localisation associé à une parcelle
cadastrale. Bien qu’il ne soit pas indispensable pour les traitements
cadastraux, il est souvent utile pour vérifier que les parcelles
récupérées correspondent bien à la zone géographique attendue.</p>
<p>Par défaut, les parcelles cadastrales Etalab ne contiennent pas
l’information de lieu-dit. Cependant, un jeu de données existe, et
<code><a href="../reference/get_parca.html">get_parca()</a></code> permet d’intersecter cette couche lorsque que
<code>lieu-dit = TRUE</code></p>
<p>*/!* : cette jointure spatiale peut être relativement longue pour un
grand nombre de parcelles.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">idus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"29158000BD00"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">14</span><span class="op">:</span><span class="fl">19</span>, <span class="fl">21</span><span class="op">:</span><span class="fl">25</span>, <span class="fl">29</span>, <span class="fl">31</span><span class="op">:</span><span class="fl">36</span>, <span class="fl">38</span>, <span class="fl">39</span>, <span class="fl">41</span>, <span class="fl">43</span><span class="op">:</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_lieu_dit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parca.html">get_parca</a></span><span class="op">(</span><span class="va">idus</span>, lieu_dit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Downloading and joining Lieux dits...</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Lieux dits joined.</span></span>
<span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_basemap.html" class="external-link">tm_tiles</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span><span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">with_lieu_dit</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_polygons</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"LIEU_DIT"</span>,</span>
<span>    fill.legend <span class="op">=</span> <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_legend.html" class="external-link">tm_legend</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="cadastral-parcels-fr_files/figure-html/lieu_dit-1.png" class="r-plt" alt="" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="fonctionnement-dans-un-processus-sequoia">Fonctionnement dans un processus Sequoia<a class="anchor" aria-label="anchor" href="#fonctionnement-dans-un-processus-sequoia"></a>
</h2>
<p>Comme présenté précédemment, <code><a href="../reference/get_parca.html">get_parca()</a></code> permet de
récupérer directement les parcelles cadastrales à partir de leur IDU.
Cependant, renseigner manuellement tous les IDU dans R est souvent peu
pratique, et les utilisateurs de Sequoia travaillent rarement
directement avec ces identifiants.</p>
<p>À la place, les parcelles cadastrales sont définies à partir d’une
matrice Excel Sequoia (<code>*_matrice.xlsx</code>), et la fonction
<code><a href="../reference/seq_parca.html">seq_parca()</a></code> récupère automatiquement l’ensemble des
parcelles à partir de cette matrice.</p>
<p>Un workflow typique est donc le suivant :</p>
<ul>
<li>Créer ou compléter la matrice Excel ;</li>
<li>Appeler <code><a href="../reference/seq_parca.html">seq_parca()</a></code> ;</li>
<li>Laisser Sequoia gérer automatiquement le reste.</li>
</ul>
<div class="section level3">
<h3 id="création-de-la-matrice-excel">1. Création de la matrice Excel<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-de-la-matrice-excel"></a>
</h3>
<p>La matrice Excel doit contenir les colonnes suivantes :</p>
<ul>
<li>
<strong>IDENTIFIANT</strong> : Identifiant de la forêt (généralement
le nom de la forêt)</li>
<li>
<strong>PROPRIETAIRE</strong> : Nom du propriétaire</li>
<li>
<strong>INSEE</strong> : Code INSEE de la commune</li>
<li>
<strong>PREFIXE</strong> : Préfixe cadastral</li>
<li>
<strong>SECTION</strong> : Section cadastrale</li>
<li>
<strong>NUMERO</strong> : Numéro de parcelle</li>
<li>
<strong>LIEU_DIT</strong> : Nom du lieu-dit (optionnel)</li>
</ul>
<p><strong>Règles à respecter :</strong></p>
<ul>
<li>Le nom du fichier doit se terminer par
<code>_matrice.xlsx</code>
</li>
<li>Un seul fichier <code>*_matrice.xlsx</code> doit être présent dans
le répertoire Sequoia</li>
<li>La matrice doit contenir un seul IDENTIFIANT unique</li>
</ul>
<p>Afin d’éviter toute erreur de format, vous pouvez générer une matrice
vide avec :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_forest_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"MY_FOREST"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">my_forest_dir</span><span class="op">)</span></span>
<span></span>
<span><span class="va">matrice_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_matrice.html">create_matrice</a></span><span class="op">(</span><span class="va">my_forest_dir</span>, id <span class="op">=</span> <span class="st">"MY_FOREST"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Excel file created at: <span style="color: #0000BB;">/tmp/RtmpFKMco6/MY_FOREST/MY_FOREST_matrice.xlsx</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="récupération-des-parcelles-avec-sequoia">2. Récupération des parcelles avec Sequoia<a class="anchor" aria-label="anchor" href="#r%C3%A9cup%C3%A9ration-des-parcelles-avec-sequoia"></a>
</h3>
<p>Une fois la matrice préparée, l’ensemble du processus cadastral est
pris en charge par <code><a href="../reference/seq_parca.html">seq_parca()</a></code>.</p>
<p>Cette fonction :</p>
<ul>
<li>Lit la matrice Excel ;</li>
<li>Construit les IDU à partir des informations de la matrice ;</li>
<li>Télécharge les parcelles cadastrales : la géométrie BDP est utilisée
lorsqu’elle est disponible (<code>bdp_geom = TRUE</code>) ;</li>
<li>Récupère les lieux-dits manquants (<code>lieu_dit = TRUE</code>)
;</li>
<li>Remplace la matrice initiale par le résultat dans le répertoire
Sequoia ;</li>
<li>Créer une sauvegarde de la matrice initiale</li>
</ul>
<p>Pour illustrer ce workflow, une matrice exemple est fournie dans
<code>Rsequoia2</code>.</p>
<div class="section level4">
<h4 id="étape-1---créer-un-répertoire-sequoia-et-y-copier-la-matrice-exemple">Étape 1 - Créer un répertoire Sequoia et y copier la matrice
exemple<a class="anchor" aria-label="anchor" href="#%C3%A9tape-1---cr%C3%A9er-un-r%C3%A9pertoire-sequoia-et-y-copier-la-matrice-exemple"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">matrice</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://janmarvin.github.io/openxlsx2/reference/wb_to_df.html" class="external-link">read_xlsx</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ECKMUHL_matrice.xlsx"</span>, package <span class="op">=</span> <span class="st">"Rsequoia2"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sequoia_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ECKMUHL"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">sequoia_dir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://janmarvin.github.io/openxlsx2/reference/write_xlsx.html" class="external-link">write_xlsx</a></span><span class="op">(</span><span class="va">matrice</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">sequoia_dir</span>, <span class="st">"ECKMUHL_matrice.xlsx"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="étape-2---exécuter-seq_parca-et-charger-les-parcelles">Étape 2 - Exécuter <code>seq_parca()</code> et charger les
parcelles<a class="anchor" aria-label="anchor" href="#%C3%A9tape-2---ex%C3%A9cuter-seq_parca-et-charger-les-parcelles"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parca_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/seq_parca.html">seq_parca</a></span><span class="op">(</span><span class="va">sequoia_dir</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Downloading BDP from IGN...</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> 9 of 9 ETALAB geom successfully replaced with BDP geom.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> No area inconsistencies (cadastre vs GIS) detected.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Layer <span style="color: #0000BB;">"v.seq.parca.poly"</span> with 9 features saved to <span style="color: #0000BB;">1_SEQUOIA/ECKMUHL_SEQ_PARCA_poly.gpkg</span>.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Table <span style="color: #0000BB;">"x.seq.matrice"</span> saved to <span style="color: #0000BB;">ECKMUHL_MATRICE.xlsx</span>.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">_matrice.xlsx</span> also saved as <span style="color: #0000BB;">ECKMUHL_matrice_20260219T144832.xlsx</span> for safety.</span></span>
<span></span>
<span><span class="co"># lecture directe depuis le chemin retourné</span></span>
<span><span class="va">parca</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="va">parca_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ou utilisation de seq_read avec un répertoire personnalisé</span></span>
<span><span class="va">parca</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/seq_read.html">seq_read</a></span><span class="op">(</span><span class="st">"parca"</span>, dirname <span class="op">=</span> <span class="va">sequoia_dir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_basemap.html" class="external-link">tm_tiles</a></span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">parca</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://r-tmap.github.io/tmap/reference/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"firebrick"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="cadastral-parcels-fr_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" alt="" width="100%"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthieu Chevereau, Paul Carteron.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>

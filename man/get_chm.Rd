% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/elevation.R
\name{get_chm}
\alias{get_chm}
\title{Compute Canopy Height Model (CHM)}
\usage{
get_chm(x = NULL, dem = NULL, dsm = NULL, minmax = c(0, 50), ...)
}
\arguments{
\item{x}{\code{sf} or \code{sfc}; Geometry located in France.}

\item{dem}{\code{SpatRaster} representing ground elevation (DEM). Must be supplied
only when \code{x} is \code{NULL}.}

\item{dsm}{A \code{SpatRaster} representing surface elevation (DSM). Must be supplied
only when \code{x} is \code{NULL}.}

\item{minmax}{\code{numeric} length-2 vector giving the accepted CHM range as
\code{c(min, max)}. Default: \code{c(0, 50)}.}

\item{...}{Additional parameters passed to \code{\link[=get_dem]{get_dem()}} and \code{\link[=get_dem]{get_dem()}} when
\code{x} is supplied.}
}
\value{
A \code{SpatRaster} containing the CHM.
}
\description{
Computes a \strong{Canopy Height Model} (CHM = DSM âˆ’ DEM) either by:
\itemize{
\item downloading the necessary DEM and DSM from IGN WMS services using \code{x}, or
\item using DEM and DSM rasters directly supplied by the user.
}
}
\details{
When \code{x} is provided, both DEM and DSM are automatically fetched via
\code{\link[=get_dem]{get_dem()}} and \code{\link[=get_dsm]{get_dsm()}}.
When \code{x} is not provided, both \code{dem} and \code{dsm} must be manually supplied.

Output values outside \code{minmax} are clamped: negative values are set to \code{NA}
and excessively high values are capped.
}
\examples{
\dontrun{
# Automatic download mode
chm <- get_chm(x = my_polygon)

# Manual mode
dem <- get_dem(my_polygon)
dsm <- get_dsm(my_polygon)
chm <- get_chm(dem = dem, dsm = dsm)
}

}

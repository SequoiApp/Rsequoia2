% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scan.R
\name{get_scan}
\alias{get_scan}
\title{Download IGN scanned maps (SCAN25, SCAN100, OACI or IGN maps)}
\usage{
get_scan(
  x,
  type = c("scan25", "scan100", "oaci", "carte_ign"),
  buffer = 1000,
  res = 0.8,
  crs = 2154,
  overwrite = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{x}{\code{sf} or \code{sfc}; Geometry located in France.}

\item{type}{\code{character}; Type of scanned map to download. Must be one of:
\itemize{
\item \code{"scan25"}: SCAN25 topographic map
\item \code{"scan100"}: SCAN100 topographic map
\item \code{"oaci"}: OACI aeronautical chart
\item \code{"carte_ign"}: standard IGN map background
}}

\item{buffer}{\code{numeric}; Buffer around \code{x} (in \strong{meters}) used to enlarge
the download area.}

\item{res}{\code{numeric}; Spatial resolution of the output raster (in map units,
usually meters).}

\item{crs}{\code{numeric} or \code{character}; CRS of the returned raster.}

\item{overwrite}{\code{logical}; If \code{TRUE}, the cached file is overwritten.}

\item{verbose}{\code{logical}; If \code{TRUE}, display GDAL messages during download.}
}
\value{
A \code{SpatRaster} object from the \code{terra} package.
}
\description{
Downloads a scanned map layer from the IGN WMS service for the area covering
\code{x}, expanded with a buffer.
The result is returned as a \code{SpatRaster} with a fixed spatial resolution.
}
\details{
Supported layers include SCAN25, SCAN100, OACI aeronautical charts and
standard IGN maps.

The scanned map is retrieved for the full bounding box (bbox) of \code{x} expanded
with the specified buffer.

To improve performance and avoid repeated downloads, the raster is cached in
a temporary directory. The cache key depends on the bounding box, resolution
and CRS. Set \code{overwrite = TRUE} to force a new download.
}
\examples{
\dontrun{
p <- sf::st_sfc(
  sf::st_point(c(-4.3727, 47.7982)),
  crs = 4326
)

scan25 <- get_scan(p, type = "scan25", buffer = 500)
scan100 <- get_scan(p, type = "scan100", buffer = 500)

terra::plotRGB(scan25)
}

}
\seealso{
\code{\link[sf:gdal_utils]{sf::gdal_utils()}}
}
